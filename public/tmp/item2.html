<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Vici.org kaartvoorbeeld</title>
  <script src="/js/jquery-3.3.1.min.js"></script>
  <link rel="stylesheet" href="/js/ol/v4.6.5/css/ol.css" type="text/css">
  <script src="/js/ol/v4.6.5/ol.js"></script>
  <script src="/js/vici.js"></script>
  <style>
html, body {
  height: auto;
  min-height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
}

    header {
      height: 4rem;
      flex-shrink: 0;
    }

    main {
      display: flex;
      flex: none;
      width: 100%;
    }

    #map {
      flex: 1;
      /* min-height: 350px; */
      max-height: 350px;
    }

    .highlights {
  display: flex;
  flex-direction: column;
  background: white;
  height: 100%;
}

.highlights-scroll {
  overflow-y: auto;
  flex-grow: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

.maincontent {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;  /* laat main zich aanpassen aan de inhoud */
}

.meta-container {
    display: flex;
    gap: 0.5rem;
    align-items: start;
    flex-wrap: wrap; /* was: nowrap */
  }

  .meta-left {
    background: lightblue;
    padding: 1rem;
    white-space: nowrap;
  }

  .meta-right {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 0.3rem;
    flex: 1;
  }

  /* .meta-right > div {
    background: lightblue;
  } */





    @media (max-width: 768px) {
      main {
        flex-direction: column;
        height: auto;
      }

      #map {
        min-height: 250px;
        max-height: 350px;
      }
    }


  </style>
</head>
<body>
    <script type="text/javascript">

        $(document).ready(function() {
            var mapObj = new ViciWidget('map',
                {   defaultMap: "OSM",
                    useMaps: ["AWMC", "OSM", "DARE", "ESRI"],
                    extraMaps: {
                        DARE: {
                            name: 'Digital Atlas of the Roman Empire',
                            url: "https://tiles.vici.org/imperium/{z}/{x}/{y}.png",
                            attributions: '© <a href="http://dare.ht.lu.se/">Johan Åhlfeldt</a>',
                            maxZoom: 11
                        },
                        ESRI: {
                            name: 'Esri WorldImagery',
                            url: "https://tiles.vici.org/world/{z}/{y}/{x}",
                            attributions: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
                        }
                    },
                    extraOverlays: {
                        LIMESNL: {
                            name: 'Limes NL',
                            url: "https://tiles.vici.org/Limes/{z}/{x}/{y}.png",
                            attributions: '© Olav Odé - CC BY',
                            opacity: 0.8
                        }
                    },
                    
                    viciToken: '20E2ADF5AB',
                    showFilter: true,
    //                filter: { visibility: "anyVisibility", era: "anyEra" }, // onlyVisible , contemporaryEra, historicalEra
                    highlights: 0,
                    lang: "nl",
                    setUrl: true,
                    showScale: "metric",
                    moveHere: true
                }
            );
        });
    
    </script>
  <!-- Navigatie -->
  <header class="bg-white px-2 py-2 flex items-center justify-between">
    <div class="text-blue-900 font-bold text-xl flex items-center">Vici.org <span class="text-sm font-normal text-gray-600 max-w-[180px] truncate inline-block sm:max-w-full">– archeologische atlas</span></div>
    <button id="menu-button" class="md:hidden text-blue-900 text-2xl">&#9776;</button>
    <nav id="main-menu" class="hidden md:flex items-center space-x-4 text-blue-900 font-medium">
      <input type="text" placeholder="Zoeken..." class="border rounded px-2 py-1 text-sm" />
      <a href="#" class="hover:underline">Toevoegen</a>
      <a href="#" class="hover:underline">Login / Register</a>
    </nav>
  </header>

  <div id="mobile-menu" class="md:hidden hidden px-4 pb-4 space-y-2">
    <a href="#" class="block py-1 text-blue-900">Toevoegen</a>
    <a href="#" class="block py-1 text-blue-900">Login / Register</a>
    <input type="text" placeholder="Zoeken..." class="w-full border rounded px-2 py-1 text-sm" />
  </div>

  <!-- Hoofdinhoud -->
  <main class="gap-4">
    <div id="maincontent" class="w-full md:w-2/3 space-y-4">
        <div id="map" class="bg-blue-200"></div>
        
        
     <h1 class="text-2xl text-blue-900 font-bold mb-4 ml-2">In situ est locus</h1>   

     <!--  meta container -->
     <div class="meta-container">
        <div class="meta-left">A</div>
        <div class="meta-right">
          <div>
            <h3 class="text-md text-blue-900 font-semibold">Locatie:</h3>
            <ul>
              <li>Nederland, Vechten</li>
              <li>geo:52.059711,5.17359</li>
              <li>Locatie exact</li>
            </ul>
          </div>
          <div>
            <h3 class="text-md text-blue-900 font-semibold">Period or year:</h3>
            <ul>
              <li>1~ / unknown</li>
            </ul>
          </div>
          <div>
            <h3 class="text-md text-blue-900 font-semibold">Classificatie:</h3>
            <ul>
              <li>Graf (-veld)</li>
              <li>Niet zichtbaar</li>
            </ul>
          </div>
          <div>
            <h3 class="text-md text-blue-900 font-semibold">Identifiers:</h3>
            <ul>
              <li>vici:place=4093</li>
            </ul>
          </div>
        </div>
      </div>



        <div id="content"></div>
    </div> <!-- maincontent -->

    <div class="highlights w-full md:w-1/3 min-w-[240px]">
        jdkjdksjkd kjdk jk dfjkfj ksjdfkdsjfksdjfkjsdkfjskfjdskf jksjfeijfk sdjkfj
    </div>
    
  </main>




  <!-- Footer -->
  <footer id="footer" class="bg-white text-sm text-gray-600">
    <div class="max-w-screen-md mx-auto px-4 pt-3">
      <div id="footer-toggle" class="text-center font-semibold border-t border-gray-300 pb-2 cursor-pointer">
        Meer over Vici.org <span id="footer-arrow">↓</span>
      </div>
      <div>
        <div class="mt-2">
            <div class="flex flex-wrap justify-center gap-4 mb-4">
                <a href="/new.php" class="flex items-center gap-2">Nieuw op Vici.org</a>
                <a href="/changed.php" class="flex items-center gap-2">Laatste wijzigingen</a>
                <a href="/about.php" class="flex items-center gap-2">Over Vici.org</a>
            </div>
          <div class="flex flex-wrap justify-center gap-4 mb-4">
            <a href="https://github.com/renevoorburg/vici.org" class="flex items-center gap-2">
              <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" class="w-5 h-5" alt="GitHub" />
              GitHub
            </a>
            <a href="https://mastodon.social/@vici" class="flex items-center gap-2">
              <img src="https://joinmastodon.org/logos/logo-purple.svg" class="w-5 h-5" alt="Mastodon" />
              Mastodon
            </a>
            <a href="https://livius.org" class="flex items-center gap-2">
              <img src="https://www.livius.org/favicon.ico" class="w-5 h-5" alt="Livius" />
              Livius.org
            </a>
          </div>
          <div class="flex justify-center space-x-4">
            <a href="#">NL</a><a href="#">DE</a><a href="#">FR</a><a href="#">EN</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Functie voor het togglen van het mobiele menu
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    }
    
    // Event listener toevoegen aan menu-button
    document.getElementById('menu-button').addEventListener('click', toggleMobileMenu);

    // Variabele om bij te houden of we naar de footer hebben gescrolld
    let isAtFooter = false;

    function toggleFooter() {
      const footer = document.getElementById('footer');
      const footerArrow = document.getElementById('footer-arrow');
      
      if (isAtFooter) {
        // Als we bij de footer zijn, scroll naar boven
        window.scrollTo({ top: 0, behavior: 'smooth' });
        footerArrow.textContent = '↓';
        isAtFooter = false;
      } else {
        // Als we niet bij de footer zijn, scroll naar footer
        footer.scrollIntoView({ behavior: 'smooth' });
        footerArrow.textContent = '↑';
        isAtFooter = true;
      }
    }
    
    // Event listener toevoegen aan footer-toggle
    document.getElementById('footer-toggle').addEventListener('click', toggleFooter);
  </script>
</body>
</html>